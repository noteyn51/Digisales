<ion-view hide-back-button="true" cache-view="false">
  <ion-nav-buttons side="left">
    <button
      class="button button-clear button-dark ion-chevron-left"
      ng-click="vm.goBack()"
    >
      Back
    </button>
  </ion-nav-buttons>
  <ion-nav-title>โอกาสกาสขาย </ion-nav-title>
  <ion-nav-buttons side="right">
    <button
      type="button"
      class="button button-clear button-positive"
      ng-click="chance2()"
    >
      เพิ่ม +
    </button>
  </ion-nav-buttons>
  <style>
    .abc:active {
      transform: scale(0.8);
    }
  </style>

  <style>
    .dp-flex {
      display: flex;
      justify-content: space-between;
    }
  </style>

  <button
    class="button button-balanced icon ion-levels"
    style="
      position: absolute;
      z-index: 999;
      bottom: 10%;
      right: 5%;
      border-radius: 50%;
      height: 70px;
      width: 70px;
    "
    ng-click="openModalFilter()"
  ></button>

  <ion-content style="background: #f5f5f5">
    <div class="list list-inset">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input
          type="text"
          placeholder="เลขที่การขาย,ชื่อลูกค้า,สถานะ,รหัสลูกค้า"
          ng-model="vm.searchText"
        />
      </label>
    </div>

    <!-- <div><button class="button button-assertive"> click</button></div> -->

    <div class="list">
      <a
        class="item"
        ng-repeat="x in vm.os_list.result | filter:vm.searchText "
        ng-click="vm.chanceEdit(x)"
      >

      <div style="display: flex;flex-direction: row;justify-content: space-between;">
        <div>{{x.os_nbr}}</div>
        <div>{{x.os_date_desc.sub_desc}} <span style="font-size: small;color:gray"> {{x.os_date_desc.time}}</span></div>
      </div>
        <p>{{x.cmad_sort}}</p>
        <p>มูลค่าโครงการ : {{x.os_amt | number : 2}} บาท</p>
        <div>
          สถานะ :
          <span style="color{{x.color}};font-weight:bold">{{x.os_desc}}</span>
        </div>
      </a>
    </div>
  </ion-content>

  <script id="filter-modal.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar>
          <button type="button" class="button button-assertive button-clear" ng-click="closeModalFilter()">close</button>
        <h1 class="title" style="text-align:center" >Filter</h1>
        <!-- <button type="submit" class="button icon ion-trash-a button-assertive button-outline" ng-click="vm.deleteCrop()" ></button> -->
      </ion-header-bar>
      <ion-content >

        <ion-list>

          <ion-checkbox ng-model="x.val" ng-repeat="x in vm.os_statusList ">{{x.os_desc}}</ion-checkbox>


        </ion-list>


      </ion-content>

      <div style="position: absolute; bottom: 0px; width: 100%; background: white;">
        <div style="text-align: center; padding-left: 10px; padding-right: 10px;">
          <button class="button button-block button-balanced " ng-click="confirmFilter()">
            ยืนยัน
          </button>
        </div>
      </div>
    </ion-modal-view>
  </script>
</ion-view>
