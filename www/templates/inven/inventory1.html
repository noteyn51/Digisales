<ion-view hide-back-button="false" cache-view="true">
  <ion-nav-title>ค้นหาคลังสินค้า </ion-nav-title>

  <style>
    .abc:active {
      transform: scale(0.8);
    }
  </style>

  <style>
    .scroll {
      height: 120%;
    }

    .dp-flex {
      display: flex;
      justify-content: space-between;
    }

    .lis .card {
      margin: 2px;
    }

    .kk .spinner svg {
      width: 100px;
      height: 50px;
    }
  </style>

  <ion-content style="background: #f5f5f5">
    <div class="list">
      <a class="item item-icon-right" ng-click="openModalPart()">
        <i class="icon ion-arrow-down-b" style="font-size: 18px"></i>
        <p ng-if="!vm.select.part" style="font-weight: bold">เลือกสินค้า</p>
        <p ng-if="vm.select.part" style="font-weight: bold">รหัสสินค้า</p>
        <p ng-if="vm.select.part">
          {{vm.select.part.pt_part}} / {{vm.select.part.pt_desc1}}
        </p>
      </a>

      <a class="item item-icon-right" ng-click="openModalPartTo()">
        <i class="icon ion-arrow-down-b" style="font-size: 18px"></i>
        <p ng-if="!vm.select.partto" style="font-weight: bold">ถึง</p>
        <p ng-if="vm.select.partto" style="font-weight: bold">ถึง</p>
        <p ng-if="vm.select.partto">
          {{vm.select.partto.pt_part}} / {{vm.select.partto.pt_desc1}}
        </p>
      </a>

      <div style="height: 10px"></div>
      <a class="item item-icon-right" ng-click="openModalSite()">
        <i class="icon ion-arrow-down-b" style="font-size: 18px"></i>
        <p ng-if="!vm.select.site" style="font-weight: bold">Site</p>
        <p ng-if="vm.select.site" style="font-weight: bold">Site</p>
        <p ng-if="vm.select.site">
          {{vm.select.site.si_site}} / {{vm.select.site.si_desc}}
        </p>
      </a>

      <a class="item item-icon-right" ng-click="openModalSiteTo()">
        <i class="icon ion-arrow-down-b" style="font-size: 18px"></i>
        <p ng-if="!vm.select.siteto" style="font-weight: bold">ถึง</p>
        <p ng-if="vm.select.siteto" style="font-weight: bold">ถึง</p>
        <p ng-if="vm.select.siteto">
          {{vm.select.siteto.si_site}} / {{vm.select.siteto.si_desc}}
        </p>
      </a>
      <div style="height: 10px"></div>

      <a class="item item-icon-right" ng-click="openModalLoc()">
        <i class="icon ion-arrow-down-b" style="font-size: 18px"></i>
        <p ng-if="!vm.select.loc" style="font-weight: bold">Location</p>
        <p ng-if="vm.select.loc" style="font-weight: bold">Location</p>
        <p ng-if="vm.select.loc">
          {{vm.select.loc.loc_loc}} / {{vm.select.loc.loc_desc}}
        </p>
      </a>

      <a class="item item-icon-right" ng-click="openModalLocTo()">
        <i class="icon ion-arrow-down-b" style="font-size: 18px"></i>
        <p ng-if="!vm.select.locto" style="font-weight: bold">ถึง</p>
        <p ng-if="vm.select.locto" style="font-weight: bold">ถึง</p>
        <p ng-if="vm.select.locto">
          {{vm.select.locto.loc_loc}} / {{vm.select.locto.loc_desc}}
        </p>
      </a>
    </div>

    <div style="text-align: center; padding-left: 10px; padding-right: 10px">
      <button
        class="button button-block button-balanced icon-right ion-search"
        ng-click="vm.search()"
      >
        ค้นหา
      </button>
    </div>
  </ion-content>

  <script id="part-modal.html" type="text/ng-template">
    <ion-modal-view style="bottom:10%;border-raduius:10px;border-radius: 10px;">
      <ion-header-bar>
          <button type="button" class="button button-assertive button-clear" ng-click="closeModalPart()">close</button>
        <h1 class="title" style="text-align:center" >สินค้า</h1>
      </ion-header-bar>
      <ion-content >
        <div class="list">
          <div class="list list-inset">
            <label class="item item-input">
              <i class="icon ion-search placeholder-icon"></i>
              <input type="text" placeholder="Search" ng-model="searchPart">
            </label>
          </div>

          <a class="item" ng-repeat="x in vm.partItem | filter:searchPart | limitTo:100" ng-click="selectPart(x)">
            <p>{{x.pt_part}}</p>

            <h2>{{x.pt_desc1}}</h2>

          </a>


      </div>


      </ion-content>
    </ion-modal-view>
  </script>

  <script id="partto-modal.html" type="text/ng-template">
    <ion-modal-view style="bottom:10%;border-raduius:10px;border-radius: 10px;">
      <ion-header-bar>
          <button type="button" class="button button-assertive button-clear" ng-click="closeModalPartTo()">close</button>
        <h1 class="title" style="text-align:center" >ถึง</h1>
      </ion-header-bar>
      <ion-content >
        <div class="list">
          <div class="list list-inset">
            <label class="item item-input">
              <i class="icon ion-search placeholder-icon"></i>
              <input type="text" placeholder="Search" ng-model="searchPart">
            </label>
          </div>

          <a class="item" ng-repeat="x in vm.partItem | filter:searchPart | limitTo:100" ng-click="selectPartTo(x)">
            <p>{{x.pt_part}}</p>

            <h2>{{x.pt_desc1}}</h2>

          </a>


      </div>


      </ion-content>
    </ion-modal-view>
  </script>

  <script id="site-modal.html" type="text/ng-template">
    <ion-modal-view style="bottom:10%;border-raduius:10px;border-radius: 10px;">
      <ion-header-bar>
          <button type="button" class="button button-assertive button-clear" ng-click="closeModalSite()">close</button>
        <h1 class="title" style="text-align:center" >Site</h1>
        <!-- <button type="submit" class="button icon ion-trash-a button-assertive button-outline" ng-click="vm.deleteCrop()" ></button> -->
      </ion-header-bar>
      <ion-content >
        <div class="list">
          <div class="list list-inset">
            <label class="item item-input">
              <i class="icon ion-search placeholder-icon"></i>
              <input type="text" placeholder="Search" ng-model="searchSite">
            </label>
          </div>

          <a class="item" ng-repeat="x in vm.siteItem | filter:searchSite" ng-click="selectSite(x)">
            <p>{{x.si_site}}</p>

            <h2>{{x.si_desc}}</h2>

          </a>


      </div>


      </ion-content>
    </ion-modal-view>
  </script>

  <script id="siteto-modal.html" type="text/ng-template">
    <ion-modal-view style="bottom:10%;border-raduius:10px;border-radius: 10px;">
      <ion-header-bar>
          <button type="button" class="button button-assertive button-clear" ng-click="closeModalSiteTo()">close</button>
        <h1 class="title" style="text-align:center" >ถึง</h1>
        <!-- <button type="submit" class="button icon ion-trash-a button-assertive button-outline" ng-click="vm.deleteCrop()" ></button> -->
      </ion-header-bar>
      <ion-content >
        <div class="list">
          <div class="list list-inset">
            <label class="item item-input">
              <i class="icon ion-search placeholder-icon"></i>
              <input type="text" placeholder="Search" ng-model="searchSiteTo">
            </label>
          </div>

          <a class="item" ng-repeat="x in vm.siteItem | filter:searchSiteTo" ng-click="selectSiteTo(x)">
            <p>{{x.si_site}}</p>

            <h2>{{x.si_desc}}</h2>

          </a>


      </div>


      </ion-content>
    </ion-modal-view>
  </script>

  <script id="loc-modal.html" type="text/ng-template">
    <ion-modal-view style="bottom:10%;border-raduius:10px;border-radius: 10px;">
      <ion-header-bar>
          <button type="button" class="button button-assertive button-clear" ng-click="closeModalLoc()">close</button>
        <h1 class="title" style="text-align:center" >Location</h1>
        <!-- <button type="submit" class="button icon ion-trash-a button-assertive button-outline" ng-click="vm.deleteCrop()" ></button> -->
      </ion-header-bar>
      <ion-content >
        <div class="list">
          <div class="list list-inset">
            <label class="item item-input">
              <i class="icon ion-search placeholder-icon"></i>
              <input type="text" placeholder="Search" ng-model="searchPart">
            </label>
          </div>

          <a class="item" ng-repeat="x in vm.locItem | filter:searchLoc" ng-click="selectLoc(x)">
            <p>{{x.loc_loc}}</p>

            <h2>{{x.loc_desc}}</h2>

          </a>


      </div>


      </ion-content>
    </ion-modal-view>
  </script>

  <script id="locto-modal.html" type="text/ng-template">
    <ion-modal-view style="bottom:10%;border-raduius:10px;border-radius: 10px;">
      <ion-header-bar>
          <button type="button" class="button button-assertive button-clear" ng-click="closeModalLocTo()">close</button>
        <h1 class="title" style="text-align:center" >ถึง</h1>
        <!-- <button type="submit" class="button icon ion-trash-a button-assertive button-outline" ng-click="vm.deleteCrop()" ></button> -->
      </ion-header-bar>
      <ion-content >
        <div class="list">
          <div class="list list-inset">
            <label class="item item-input">
              <i class="icon ion-search placeholder-icon"></i>
              <input type="text" placeholder="Search" ng-model="searchPart">
            </label>
          </div>

          <a class="item" ng-repeat="x in vm.locItem | filter:searchLocto " ng-click="selectLocTo(x)">
            <p>{{x.loc_loc}}</p>

            <h2>{{x.loc_desc}}</h2>

          </a>


      </div>


      </ion-content>
    </ion-modal-view>
  </script>
</ion-view>
